# 业务场景描述
- 10W并发秒杀场景，秒杀100件商品，如何实现排队，不超卖。

# 遇到的问题
- 并发量过大导致拒绝服务
- 出现“超卖”（卖的量比库存多）问题

# 业务说明
- 首先这10万请求server端要能成功收到才行，所以考虑web服务器负载均衡
- 并发请求数据，MySQL是肯定不行，要用redis或memcached来处理秒杀数据，最终异步持久化到MySQL里，千万不能同步完成
- 要用队列来保证不超卖，队列的实现要想清楚，比如用redis的list
- 前后端用异步请求，发送秒杀动作的时候不实时成交，server端收到请求后只加入队列并通知前端已收到，前端显示排队前面多少人，并于数秒后重新发送请求查询成交结果或者排队前面还有多少人。

# 架构图

# 使用方式
## 初始化数据、启动服务
```sh
php start.php
```
## 并发模拟
```sh
./batch.sh
```

[秒杀系统架构优化思路][1]


  [1]: https://mp.weixin.qq.com/s/5aMN9SqaWa57rYGgtdAF_A